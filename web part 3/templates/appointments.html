<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookMyCut - הזמנת תור</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='bookmycut.css') }}">
</head>
<body>
{% include 'navigation.html' %}
    <main>
        <form action="/appointments" method="POST">
            <section class="services-type">
                <div class="service-bar">
                    <button type="button" class="service-btn" onclick="selectService('ייעוץ')">ייעוץ</button>
                    <button type="button" class="service-btn" onclick="selectService('תוספות')">תוספות</button>
                    <button type="button" class="service-btn" onclick="selectService('שיקום')">שיקום</button>
                    <button type="button" class="service-btn" onclick="selectService('תסרוקת')">תסרוקת</button>
                    <button type="button" class="service-btn" onclick="selectService('החלקה')">החלקה</button>
                    <button type="button" class="service-btn" onclick="selectService('בליאז')">בליאז'</button>
                    <button type="button" class="service-btn active" onclick="selectService('תספורות')">תספורות</button>
                </div>
                <input type="hidden" id="service" name="service" value="תספורות">
            </section>

            <section class="staff-section">
                <h2>בחר ספר</h2>
                <div class="staff-list">
                    <div class="staff-item">
                        <input type="radio" id="staff1" name="staff" value="daniel" checked>
                        <label for="staff1">דניאל כהן - מומחה בעיצוב שיער</label>
                    </div>
                    <div class="staff-item">
                        <input type="radio" id="staff2" name="staff" value="yael">
                        <label for="staff2">יעל לוי - מומחית בצבעים ושיקום שיער</label>
                    </div>
                    <div class="staff-item">
                        <input type="radio" id="staff3" name="staff" value="shira">
                        <label for="staff3">שירה אביטל - מומחית במספרות לאירועים</label>
                    </div>
                </div>
            </section>

            <section class="calendar-section">
                <h2>בחר תאריך ושעה</h2>
                <input type="date" id="appointment-date" name="date" required onchange="fetchAvailableTimes()">

                <div class="time-slots" id="time-slots">
                    <!-- כאן יוצגו זמני התורים הפנויים -->
                </div>

                <input type="hidden" id="selected-time" name="time" required>
            </section>

            <input type="hidden" id="selected-time" name="time">
            <button id="book-appointment" class="submit-btn">הזמן</button>


<input type="hidden" id="selected-time" name="time">


            <!-- כפתור הזמנה -->
            <button type="submit" class="submit-btn">הזמן</button>
        </form>
        {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="flash-messages">
            {% for message in messages %}
                <p class="flash-message">{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}
    </main>

<script>
    function selectService(service) {
        document.getElementById("service").value = service;
    }
</script>

<script src="{{ url_for('static', filename='appointments.js') }}"></script>
<script src="{{ url_for('static', filename='hairdresser.js') }}"></script>
</body>
{% include 'footer.html' %}
</html>
